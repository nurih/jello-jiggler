<!DOCTYPE html>
<html>

<head>
    <title>Jello Jiggler IoT</title>
    <link href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" rel="stylesheet" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" crossorigin="anonymous" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" crossorigin="anonymous" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" crossorigin="anonymous" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"></script>
    <!-- https://codepen.io/anon/pen/PxbvVw?editors=1000 -->
    <script type="text/javascript">
        function targetElement() {
            return document.getElementById('geo');
        }
        if ('geolocation' in navigator) {
            function handleLocation(p) {
                var lat = p.coords.latitude.toFixed(4);
                var lng = p.coords.longitude.toFixed(4);

                var link = document.createElement('a');
                link.href = `https://www.bing.com/maps?v=2&lvl=15&cp=${lat}~${lng}&sp=point.${lat}_${lng}_Jiggled%20from%20here`;
                link.innerHTML = '<i class="fas fa-map-marked-alt"></i>'
                targetElement().appendChild(link);
            }


            navigator.geolocation.getCurrentPosition(handleLocation);
        } else {
            targetElement().innerHTML = 'Geolocation unavailable';
        }
    </script>
    <style>
        .card-header {
            	min-height: 8rem;
            	min-width: 20rem;
            }
        </style>
</head>

<body>
    <div class="d-flex p-4 justify-content-center">
        <h1 class="display-1">World Famous Jello Jiggler</h1>
    </div>
    <div class="d-flex justify-content-center p-3 bg-dark">
        <div class="card-deck p3">
            <div class="card flex-fill m-4" style="">
                <div class="card-header bg-primary">
                    <h2 class="card-title">
                        <i class="fas fa-water"></i>
                        <span>Jiggle!</span>
                    </h2>
                </div>
                <div class="card-body">
                    <p class="card-text">Make it jiggle.</p>
                    <form action="/api/Jiggle" method="post">
                        <input name="jiggle" type="hidden" value="true">
                        <input class="btn btn-success btn-lg" type="submit" value="submit">
                    </form>
                </div>
            </div>
            <div class="card flex-fill m-4">
                <div class="card-header  bg-primary">
                    <h2 class="card-title">
                        <i class="fas fa-music "></i>
                        <span>Jingle!</span>
                    </h2>
                </div>
                <div class="card-body">
                    <p class="card-text">Play a jingle.</p>
                    <form action="/api/Jiggle" method="post">
                        <input name="play" type="text" value="CDEDGEFAB">
                        <input class="btn btn-success btn-lg" type="submit" value="submit">
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="justify-content-center bg-information p-4 m-4 border">
        <h2>Current queue</h2>
        <ul class="list-group">~.~</ul>
    </div>
    <div class="justify-content-center bg-secondary p-4 m-4 border">

        <p id='geo' class="text-light"></p>
    </div>
</body>

</html>